# Дипломный проект Прогнозирование цены на акции
Разработал: Мазунин Алексей Александрович <br>
Группа: DSPR-123 2024 <br>
Профессия: Data Scientist

## Описание
В рамках дипломного проекта разработано серия приложений, позволяющих получить предсказание цены акции.
Проект состоит из Jyputer ноутбука с исследованием, а так же нескольких приложений реализованных в виде микросервисов на базе Docker контейнеров. Каждая часть была разработана в вируальном окружении, подробный список необходимых библиотек можно посмотреть в файлах requirements.txt
### Приложения
* Server - Приложение позволяет получить предсказание цена акции Амазон на краткосрок и на долгосрок.
Для обучения использовались цены закрытия недельных свечей. Шаг предсказания так же неделя.
Для краткосрочного предсказания используется модель StackingRegressor, для долгосрочного модель Prophet.
Получить прогноз можно обратившись к серверу по API. API работает на библиотеке Flask.
Image Docker можно скачать используя скрипт <br>
**docker pull dockermalex/server_from_diplob_1year:latest** <br>
Скрипт для запуска: <br>
**docker run -it --rm -p=8081:8081 -e HOST=0.0.0.0 -e PORT=8081 dockermalex/server_from_diplob_1year**
* TelegramBot - Приложение позволяет взаимодействовать с Server использую чат Telegram.
В свою очередь TelegramBot взаимодействует с Server по API.
Image Docker можно скачать используя скрипт: <br>
**docker pull dockermalex/telegram_bot_from_diplob_1year:latest** <br>
Скрипт для запуска: <br>
**docker run -it --rm -e TELEGRAM_API='your telegram api key' -e SERVER_URL='http://127.0.0.1:8081' dockermalex/telegram_bot_from_diplob_1year**
### Исследование
Для исследования я решил взять цену акции Амазон с сайта https://query1.finance.yahoo.com/v7/finance/download/AMZN <br>
Далее проведена работа по анализу данных и отбору признаков.

Для поиска лучшего предсказания были использованы модели:
* Линейная регрессия
* Полиномиальная модель
* Дерево решений
* Решающий лес
* AR модели
* Prophet
* ML

Так же реализованы:
* Стекинг, голосование
* Бустинг
* Подбор гиперпараметров


## Дальнейшее развитие:
* Проверить предсказательную силу других моделей
* Улучшить стабильность клиента Telegram
* Добавить возможность выбирать объект для предсказания
* Загрузка моделей на сервер по API
* Доработать инфомративность данных, получаемых через Telegram
* Использовать SQL базу для хранения логов и цен на акции
* Добавить логирование пользователей Telegram

## Каталоги
* **apps** - содержит серверные и клиентские приложения, разработанные в рамках проекта.
* **research** - содержит исследовательскую часть
  * **data** - загруженные данные
  * **models** - содержит сохраненные модели
  * **optuna** - База данных с результатами подбора гипер параметров Optuna, \
а так же приложение для запуска интерактивного приложения, для отображения результатов.
  * **Diplom_week.ipynb** jupyter ноутбук с исследованием 
